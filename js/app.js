document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".registerBtn"),t=document.getElementById("registrationModal"),n=document.getElementById("closeModalBtn"),o=document.querySelector(".homeModalOverlay"),d=document.getElementById("registrationForm"),l=document.getElementById("name"),r=document.getElementById("nameError"),c=document.getElementById("phone"),i=document.getElementById("phoneError"),a=document.getElementById("submitBtn"),s=document.getElementById("selectedCountry"),m=document.getElementById("selectedCountryCode"),u=document.getElementById("countryDropdown"),y=document.getElementById("dropdownIcon"),E=setupPhoneFormatter({inputEl:c,codeLabelEl:m,dropdownEl:u,triggerEl:s,iconEl:y,errorEl:i,defaultCode:"+998"});let g=!1,p=0;function B(){t&&(g=!0,p=window.scrollY,t.style.display="block",document.body.style.overflow="hidden",r.style.display="none",i.style.display="none")}function I(){t&&g&&(g=!1,t.style.display="none",document.body.style.overflow="",document.body.style.position="",document.body.style.top="",window.scrollTo(0,p))}e.forEach((e=>e.addEventListener("click",B))),n&&n.addEventListener("click",I),o&&o.addEventListener("click",I),a&&a.addEventListener("click",(()=>d.requestSubmit())),d.addEventListener("submit",(function(e){e.preventDefault();const t=l.value.trim(),n=c.value.trim();let o=!1;if(t?r.style.display="none":(r.style.display="block",o=!0),E.validate(n)?i.style.display="none":(i.style.display="block",o=!0),o)return;a.textContent="YUBORILMOQDA...",a.disabled=!0;const d=new Date,s=d.toLocaleDateString("uz-UZ"),m=d.toLocaleTimeString("uz-UZ"),u={Ism:t,TelefonRaqam:E.getCurrentCode()+" "+n,SanaSoat:s+" - "+m};localStorage.setItem("formData",JSON.stringify(u)),window.location.assign("./thenkYou.html")}))}));